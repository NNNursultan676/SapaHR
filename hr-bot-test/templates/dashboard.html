
{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - SapaHR{% endblock %}

{% block content %}
<div class="modern-dashboard">
    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SapaHR! üëã</h1>
                <p class="hero-subtitle">
                    {% if is_admin %}
                    –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å –ø–æ–º–æ—â—å—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö HR-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
                    {% else %}
                    –í–∞—à–µ —Ä–∞–±–æ—á–µ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è
                    {% endif %}
                </p>
            </div>
            <div class="hero-animation">
                <div class="floating-card card-1">üìä</div>
                <div class="floating-card card-2">üéØ</div>
                <div class="floating-card card-3">üöÄ</div>
            </div>
        </div>
    </div>

    <!-- Stats Grid -->
    <div class="stats-modern-grid">
        {% if is_admin %}
        <div class="stat-modern-card gradient-blue">
            <div class="stat-icon-circle">üë•</div>
            <div class="stat-content">
                <h3>{{ stats.total_users }}</h3>
                <p>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
            </div>
            <div class="stat-trend">‚Üë +12%</div>
        </div>
        
        <div class="stat-modern-card gradient-purple">
            <div class="stat-icon-circle">üìù</div>
            <div class="stat-content">
                <h3>{{ stats.pending_requests }}</h3>
                <p>–û–∂–∏–¥–∞—é—â–∏—Ö –∑–∞—è–≤–æ–∫</p>
            </div>
            <div class="stat-trend">‚Üí 0%</div>
        </div>
        
        <div class="stat-modern-card gradient-green">
            <div class="stat-icon-circle">üèñ</div>
            <div class="stat-content">
                <h3>{{ stats.active_vacations }}</h3>
                <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ç–ø—É—Å–∫–æ–≤</p>
            </div>
            <div class="stat-trend">‚Üì -5%</div>
        </div>
        
        <div class="stat-modern-card gradient-orange">
            <div class="stat-icon-circle">üì∞</div>
            <div class="stat-content">
                <h3>{{ stats.total_news }}</h3>
                <p>–ù–æ–≤–æ—Å—Ç–µ–π</p>
            </div>
            <div class="stat-trend">‚Üë +8%</div>
        </div>
        {% else %}
        <div class="stat-modern-card gradient-blue">
            <div class="stat-icon-circle">üìù</div>
            <div class="stat-content">
                <h3>{{ stats.my_requests }}</h3>
                <p>–ú–æ–∏ –∑–∞—è–≤–∫–∏</p>
            </div>
        </div>
        
        <div class="stat-modern-card gradient-purple">
            <div class="stat-icon-circle">üèñ</div>
            <div class="stat-content">
                <h3>{{ stats.my_vacations }}</h3>
                <p>–ú–æ–∏ –æ—Ç–ø—É—Å–∫–∞</p>
            </div>
        </div>
        
        <div class="stat-modern-card gradient-green">
            <div class="stat-icon-circle">üéØ</div>
            <div class="stat-content">
                <h3>{{ stats.my_activities }}</h3>
                <p>–ú–æ–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</p>
            </div>
        </div>
        
        <div class="stat-modern-card gradient-orange">
            <div class="stat-icon-circle">üèÜ</div>
            <div class="stat-content">
                <h3>{{ stats.my_points }}</h3>
                <p>–ú–æ–∏ –±–∞–ª–ª—ã</p>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions-section">
        <h2 class="section-title">‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
        <div class="actions-grid">
            {% if is_admin %}
            <a href="{{ url_for('broadcast') }}" class="action-card">
                <div class="action-icon">üì¢</div>
                <h3>–°–æ–∑–¥–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É</h3>
                <p>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–π –∫–æ–º–∞–Ω–¥–µ</p>
            </a>
            <a href="{{ url_for('news') }}" class="action-card">
                <div class="action-icon">üì∞</div>
                <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</h3>
                <p>–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –≤–∞–∂–Ω—ã–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏</p>
            </a>
            <a href="{{ url_for('executors') }}" class="action-card">
                <div class="action-icon">üë§</div>
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</h3>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π</p>
            </a>
            <a href="{{ url_for('requests_page') }}" class="action-card">
                <div class="action-icon">üìã</div>
                <h3>–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫</h3>
                <p>–û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</p>
            </a>
            <a href="{{ url_for('vacations') }}" class="action-card">
                <div class="action-icon">üå¥</div>
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ø—É—Å–∫–∞–º–∏</h3>
                <p>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ</p>
            </a>
            <a href="{{ url_for('employees') }}" class="action-card">
                <div class="action-icon">üë•</div>
                <h3>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                <p>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥—ã</p>
            </a>
            {% else %}
            <a href="{{ url_for('requests_page') }}" class="action-card">
                <div class="action-icon">üìù</div>
                <h3>–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</h3>
                <p>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</p>
            </a>
            <a href="{{ url_for('vacations') }}" class="action-card">
                <div class="action-icon">üèñ</div>
                <h3>–ó–∞—è–≤–∫–∞ –Ω–∞ –æ—Ç–ø—É—Å–∫</h3>
                <p>–ó–∞–ø–ª–∞–Ω–∏—Ä—É–π—Ç–µ –æ—Ç–¥—ã—Ö</p>
            </a>
            <a href="{{ url_for('my_status') }}" class="action-card">
                <div class="action-icon">üìà</div>
                <h3>–ú–æ–π —Å—Ç–∞—Ç—É—Å</h3>
                <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
            </a>
            <a href="{{ url_for('profile') }}" class="action-card">
                <div class="action-icon">üë§</div>
                <h3>–ü—Ä–æ—Ñ–∏–ª—å</h3>
                <p>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</p>
            </a>
            <a href="{{ url_for('knowledge') }}" class="action-card">
                <div class="action-icon">üìö</div>
                <h3>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</h3>
                <p>–û–±—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ</p>
            </a>
            <a href="{{ url_for('lms') }}" class="action-card">
                <div class="action-icon">üéì</div>
                <h3>–û–±—É—á–µ–Ω–∏–µ</h3>
                <p>–ö—É—Ä—Å—ã –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</p>
            </a>
            {% endif %}
        </div>
    </div>
</div>

<style>
.modern-dashboard {
    animation: fadeIn 0.6s ease-in;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 24px;
    padding: 60px 40px;
    margin-bottom: 40px;
    color: white;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
    opacity: 0.3;
}

.hero-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    z-index: 1;
}

.hero-title {
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 16px;
    background: linear-gradient(to right, #fff, #f0f0f0);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.hero-subtitle {
    font-size: 1.25rem;
    opacity: 0.95;
    max-width: 600px;
}

.hero-animation {
    position: relative;
    width: 200px;
    height: 200px;
}

.floating-card {
    position: absolute;
    width: 80px;
    height: 80px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    animation: float 3s ease-in-out infinite;
}

.card-1 {
    top: 0;
    left: 0;
    animation-delay: 0s;
}

.card-2 {
    top: 60px;
    right: 20px;
    animation-delay: 0.5s;
}

.card-3 {
    bottom: 0;
    left: 50px;
    animation-delay: 1s;
}

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    50% { transform: translateY(-20px) rotate(5deg); }
}

.stats-modern-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-bottom: 40px;
}

.stat-modern-card {
    background: white;
    border-radius: 20px;
    padding: 32px;
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.stat-modern-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: inherit;
}

.stat-modern-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
}

.gradient-blue::before { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
.gradient-purple::before { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
.gradient-green::before { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
.gradient-orange::before { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

.stat-icon-circle {
    width: 64px;
    height: 64px;
    border-radius: 16px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    flex-shrink: 0;
}

.gradient-blue .stat-icon-circle { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
.gradient-purple .stat-icon-circle { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
.gradient-green .stat-icon-circle { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
.gradient-orange .stat-icon-circle { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

.stat-content {
    flex: 1;
}

.stat-content h3 {
    font-size: 2.5rem;
    font-weight: 800;
    color: #1e293b;
    margin: 0 0 8px 0;
}

.stat-content p {
    font-size: 0.95rem;
    color: #64748b;
    margin: 0;
    font-weight: 500;
}

.stat-trend {
    font-size: 0.9rem;
    font-weight: 600;
    color: #10b981;
    background: #d1fae5;
    padding: 6px 12px;
    border-radius: 8px;
}

.section-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 24px;
}

.actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
}

.action-card {
    background: white;
    border-radius: 16px;
    padding: 28px;
    text-decoration: none;
    color: inherit;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    border: 2px solid transparent;
}

.action-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
    border-color: #667eea;
}

.action-icon {
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    margin-bottom: 16px;
}

.action-card h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1e293b;
    margin: 0 0 8px 0;
}

.action-card p {
    font-size: 0.9rem;
    color: #64748b;
    margin: 0;
}

@media (max-width: 768px) {
    .hero-title {
        font-size: 2rem;
    }
    
    .hero-subtitle {
        font-size: 1rem;
    }
    
    .hero-animation {
        display: none;
    }
    
    .stats-modern-grid {
        grid-template-columns: 1fr;
    }
    
    .actions-grid {
        grid-template-columns: 1fr;
    }
}
</style>
{% endblock %}
