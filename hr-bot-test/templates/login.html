<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ - SapaHR</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="login-page">
    <div class="login-container">
        <div class="login-box">
            <h1>üè¢ SapaHR</h1>
            <h2>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º</h2>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">{{ message }}</div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <div class="role-switcher">
                <button type="button" class="role-btn active" data-role="user">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</button>
                <button type="button" class="role-btn" data-role="admin">üë®‚Äçüíº –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</button>
            </div>
            
            <form method="POST" action="{{ url_for('login') }}" id="userLoginForm" class="form-section active">
                <input type="hidden" name="login_type" value="user">
                <div class="form-group">
                    <label>Telegram ID</label>
                    <input type="text" name="telegram_id" placeholder="–í–∞—à Telegram ID" required>
                    <small style="color: #6b7280; margin-top: 0.5rem; display: block;">
                        –£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID –º–æ–∂–Ω–æ —É –±–æ—Ç–∞ @userinfobot
                    </small>
                </div>
                <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</button>
            </form>
            
            <form method="POST" action="{{ url_for('login') }}" id="adminLoginForm" class="form-section">
                <input type="hidden" name="login_type" value="admin">
                <div class="form-group">
                    <label>Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</label>
                    <input type="email" name="email" placeholder="admin@example.com" required>
                </div>
                <div class="form-group">
                    <label>–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏ –∫–∞–∫ –∞–¥–º–∏–Ω</button>
            </form>
            
            <p style="text-align: center; margin-top: 1.5rem; color: #6b7280; font-size: 0.875rem;">
                –î–ª—è –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É: <br>
                <a href="https://t.me/YOUR_BOT" target="_blank" style="color: #6366f1; font-weight: 600;">@YOUR_BOT</a>
            </p>
        </div>
    </div>
    
    <script>
        const roleBtns = document.querySelectorAll('.role-btn');
        const userForm = document.getElementById('userLoginForm');
        const adminForm = document.getElementById('adminLoginForm');
        
        roleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                roleBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const role = btn.dataset.role;
                if (role === 'user') {
                    userForm.classList.add('active');
                    adminForm.classList.remove('active');
                } else {
                    adminForm.classList.add('active');
                    userForm.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
